import{_ as f}from"./Typo.BkCsQLVI.js";import{a as o,c as x,_ as b,F as y}from"./index.esm.DoZA57yg.js";import{h as v,o as w,F as V,w as n,a as m,b as e,d as l,G as g,I as F,$,J as N,_ as T}from"./entry.DwqXwOyw.js";import{_ as k}from"./CustomLink.SyepRw-K.js";import{u as q,_ as B}from"./useCustomFetch.CglE_PrC.js";import"./_commonjsHelpers.Cpj98o6Y.js";const z=o().required(" ").matches(/^[^\s]*$/,"Les espaces ne sont pas acceptés").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_])[a-zA-Z\d\W_]{8,}$/,"Le format ne correspond pas"),C=async(_,r,c,t,s)=>await q("user/register","POST",{body:{email:_,username:r,lastname:t,firstname:c,password:s}}),I={class:"Form"},L={class:"Form-content"},S={class:"mt-10"},A=v({__name:"index",setup(_){const r=x({email:o().email().required(),username:o().required(),lastname:o().required(),firstname:o().required(),password:z}),c=async(t,{resetForm:s})=>{const{error:i}=await C(t.email,t.username,t.lastname,t.firstname,t.password);i.value||(s(),F("Inscription réussie",["Merci de vous être inscrit veuillez vous connecter"],"success"),$("/auth/login"))};return(t,s)=>{const i=f,a=b,p=N,d=y,u=k,h=B;return w(),V(h,{name:"auth"},{default:n(()=>[m("div",I,[m("div",L,[e(i,{tag:"h2",format:"bold",class:"text-center mb-6"},{default:n(()=>[l(" Bienvenue sur l'application de l'AS Pertuis ")]),_:1}),e(d,{"validation-schema":g(r),onSubmit:c},{default:n(()=>[e(a,{name:"email",type:"email",label:"Mail",placeholder:"Votre mail"}),e(a,{name:"username",type:"text",label:"Nom d'utilisateur",placeholder:"Votre nom d'utilisateur"}),e(a,{name:"lastname",type:"text",label:"Nom",placeholder:"Votre nom"}),e(a,{name:"firstname",type:"text",label:"Prénom",placeholder:"Votre prénom"}),e(a,{name:"password",type:"password",label:"Mot de passe",placeholder:"Votre mot de passe"}),e(p,{icon:"i-heroicons-check",size:"sm",color:"primary",class:"mt-6",type:"submit",variant:"solid",block:"",label:"S'inscrire",trailing:!1})]),_:1},8,["validation-schema"])])]),m("div",S,[e(u,{href:"/auth/login",variant:"white",typo:{format:"normal",tag:"p"}},{default:n(()=>[l(" déjà inscrit ? ")]),_:1})])]),_:1})}}}),G=T(A,[["__scopeId","data-v-7c9bd159"]]);export{G as default};
